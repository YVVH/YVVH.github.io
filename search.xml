<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Nastya Studies Informatics</title>
    <url>/2023/02/13/%E4%BB%A3%E7%A0%81%E6%B5%8B%E8%AF%95/</url>
    <content><![CDATA[<h1 id="description">Description</h1>
<p>给出 <span class="math inline">\(l,r,x,y\)</span> 四个整数，请你求出
<span class="math inline">\([l,r]\)</span> 中有多少个整数对 <span
class="math inline">\((a,b)\)</span> 满足 <span
class="math inline">\(GCD(a,b)=x,LCM(a,b)=y\)</span>。</p>
<p>其中 <span class="math inline">\(GCD(a,b)\)</span> 表示 <span
class="math inline">\(a,b\)</span> 的最大公约数，<span
class="math inline">\(LCM(a,b)\)</span> 表示 <span
class="math inline">\(a,b\)</span> 的最小公倍数。</p>
<p>若<span class="math inline">\(a \ne b\)</span>，则 <span
class="math inline">\((a,b)\)</span> 与 <span
class="math inline">\((b,a)\)</span> 视为两个不同的数对。</p>
<span id="more"></span>
<h1 id="format">Format</h1>
<h2 id="input">Input</h2>
<p>第一行输入四个整数<span class="math inline">\(l,r(1\le l \le r
\le10^9),x,y(1\le x \le y \le10^9)\)</span></p>
<h2 id="output">Output</h2>
<p>输出一个整数——满足条件的整数对个数。</p>
<h1 id="samples">Samples</h1>
<h4 id="input-1">Input</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1 2 1 2</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1 12 1 12</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">50 100 3 30</span><br></pre></td></tr></table></figure>
<h4 id="output-1">Output</h4>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0</span><br></pre></td></tr></table></figure>
<h1 id="code">Code</h1>
<p>要使得<span
class="math inline">\(GCD(a,b)=x,LCM(a,b)=y\)</span>，可得<span
class="math inline">\(x*y=a*b\)</span>，设<span
class="math inline">\(c=\frac ax,d=\frac bx\)</span>，有<span
class="math inline">\(x*y=x^2*c*d\)</span>，在<span
class="math inline">\([\frac lx,\frac rx]\)</span>范围内枚举使得<span
class="math inline">\(GCD(c,d)=1\)</span>即可。</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INTINF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LLINF  0x3f3f3f3f3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 2000010</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rep(i , a , b) for(int i=(a) ; i &lt;= (b) ; i++)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> dwn(i , a , b) for(int i=(a) ; i &gt;= (b) ; i--)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ull;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">read</span><span class="params">()</span></span>&#123;ll s=<span class="number">0</span>,f=<span class="number">1</span>;<span class="type">char</span> c=<span class="built_in">getchar</span>();<span class="keyword">for</span>(;c&lt;<span class="string">&#x27;0&#x27;</span>||c&gt;<span class="string">&#x27;9&#x27;</span>;c=<span class="built_in">getchar</span>()) f=<span class="number">-1</span>;<span class="keyword">for</span>(;c&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;c&lt;=<span class="string">&#x27;9&#x27;</span>;c=<span class="built_in">getchar</span>())&#123;s=s*<span class="number">10</span>+c-<span class="string">&#x27;0&#x27;</span>;&#125;<span class="keyword">return</span> s*f;&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> l,r,x,y;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin&gt;&gt;l&gt;&gt;r&gt;&gt;x&gt;&gt;y;</span><br><span class="line">    <span class="keyword">if</span>(y%x)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;0\n&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> n=y/x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> a=<span class="number">1</span>;a*a&lt;=n;a++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n%a==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> b=n/a;</span><br><span class="line">            <span class="keyword">if</span>(b*x&gt;=l&amp;&amp;b*x&lt;=r&amp;&amp;a*x&gt;=l&amp;&amp;a*x&lt;=r&amp;&amp;__gcd(a,b)==<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a!=b) ans++;</span><br><span class="line">                ans++; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
</search>
